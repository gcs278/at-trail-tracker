[{"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/components/pin.js":"1","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/index.js":"2","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/services/location.service.js":"3","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/components/App.js":"4","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/http-common.js":"5","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/reportWebVitals.js":"6","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/components/Map.js":"7","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/services/auth.service.js":"8","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/components/Login.js":"9"},{"size":566,"mtime":1613532460760,"results":"10","hashOfConfig":"11"},{"size":562,"mtime":1613533294529,"results":"12","hashOfConfig":"11"},{"size":702,"mtime":1612412548979,"results":"13","hashOfConfig":"11"},{"size":863,"mtime":1613533472052,"results":"14","hashOfConfig":"11"},{"size":301,"mtime":1613534826541,"results":"15","hashOfConfig":"11"},{"size":362,"mtime":1611976741731,"results":"16","hashOfConfig":"11"},{"size":5796,"mtime":1613532779608,"results":"17","hashOfConfig":"11"},{"size":224,"mtime":1613536363935,"results":"18","hashOfConfig":"11"},{"size":1648,"mtime":1613536654604,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"182caja",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/components/pin.js",[],"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/index.js",[],["43","44"],"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/services/location.service.js",[],"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/components/App.js",["45"],"import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport Map from './Map';\nimport Login from './Login';\nimport Register from './Register';\n\nexport default function BasicExample() {\n  return (\n    <Router>\n      <div>\n        {/* <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/about\">About</Link>\n          </li>\n          <li>\n            <Link to=\"/dashboard\">Dashboard</Link>\n          </li>\n        </ul>\n\n        <hr /> */}\n\n        <Switch>\n          <Route exact path=\"/\">\n            <Map />\n          </Route>\n          <Route exact path=\"/login\">\n            <Login />\n          </Route>\n          <Route exact path=\"/register\">\n            <Register />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}",["46","47"],"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/http-common.js",[],"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/reportWebVitals.js",[],["48","49"],"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/components/Map.js",["50","51"],"import logo from './logo.svg';\nimport '../css/App.css';\n// import mapboxgl from 'mapbox-gl';\n// import ReactDOM from 'react-dom';\nimport React, { Component } from 'react';\nimport LocationDataService from \"../services/location.service\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport ReactMapGL, {Marker, Source, Layer} from 'react-map-gl';\nimport Pin from './pin';\nimport { FlyToInterpolator } from \"react-map-gl\";\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiZ2NzMjc4IiwiYSI6ImNra2hzZWticDA0YzIycHFuazI4MmNyOTMifQ.H-DA4nbJSSFZZVmVAuuiWg';\n\nconst layerStyle = {\n  id: 'atTrail',\n  type: 'line',\n  paint: {\n    'line-color': 'black',\n    'line-width': 3\n  }\n};\n\nconst myTrackStyle = {\n  id: 'myTrack',\n  type: 'line',\n  paint: {\n    'line-color': 'red',\n    'line-width': 1\n  }\n};\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      marker: {\n        latitude: 1,\n        longitude: 1,\n      },\n      viewport: {\n        latitude: 40.5,\n        longitude: -79,\n        zoom: 4.5,\n        // transitionDuration: 5000,\n        // transitionInterpolator: new FlyToInterpolator(),\n        // bearing: 0,\n        // pitch: 0\n      },\n      atGeojson: null,\n      myTrack: null,\n      stats: {\n        totalDistance: null,\n        todayDistance: null\n      }\n    };\n    this.getLatestLocation = this.getLatestLocation.bind(this);\n  }\n\n  getLatestLocation() {\n    LocationDataService.getLatest()\n      .then(response => {\n        this.setState({\n          marker: {\n            longitude: response.data.geometry.coordinates[0],\n            latitude: response.data.geometry.coordinates[1]\n          }\n        });\n        console.log(\"My Location:\")\n        console.log(this.state.marker.longitude);\n        console.log(this.state.marker.latitude);\n\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  getAllLocations() {\n    LocationDataService.getMyTrack()\n      .then(response => {\n        this.setState({\n          myTrack: response.data\n        });\n        // console.log(\"Got MyTrack:\")\n        // console.log(this.state.myTrack);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  getTrailOverlay() {\n    fetch('./at_full_reduced.geojson').then((res) => {\n      return res.json();\n    }).then((result) => {\n      this.setState({\n        atGeojson: result\n      })\n    })\n  }\n  \n  getStats() {\n    LocationDataService.stats()\n    .then(response => {\n      this.setState({\n        stats: response.data\n      });\n      console.log(\"Total Distance:\")\n      console.log(this.state.stats.totalDistance);\n    })\n    .catch(e => {\n      console.log(e);\n    });\n  }\n\n  componentDidMount() {\n    this.getLatestLocation();\n    this.getAllLocations();\n    this.getTrailOverlay();\n    this.getStats();\n\n    // const map = new mapboxgl.Map({\n    //   container: this.mapContainer,\n    //   style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location\n    //   center: [this.state.lng, this.state.lat],\n    //   zoom: this.state.zoom\n    // });\n    // map.on('move', () => {\n    //   this.setState({\n    //     lng: map.getCenter().lng.toFixed(4),\n    //     lat: map.getCenter().lat.toFixed(4),\n    //     zoom: map.getZoom().toFixed(2)\n    //   });\n    // });\n    // map.addControl(new mapboxgl.NavigationControl(), 'top-right');\n\n    // var marker = new mapboxgl.Marker()\n    //   .setLngLat([this.state.lng, this.state.lat])\n    //   .addTo(map);\n    // this.setState = {\n    //   marker: marker\n    // }\n  }\n\n  render() {\n    return (\n      <>\n        <ReactMapGL\n          {...this.state.viewport}\n          width=\"100vw\"\n          height=\"100vh\"\n          mapStyle='mapbox://styles/mapbox/streets-v11'\n          onViewportChange={viewport => this.setState({viewport})}\n          mapboxApiAccessToken={MAPBOX_TOKEN}\n          scrollZoom={{smooth: false}}\n          // ayncRender={true}\n          // transitionDuration={1000}\n          // transitionInterpolator={new FlyToInterpolator()}\n        >\n          <Marker\n            longitude={this.state.marker.longitude}\n            latitude={this.state.marker.latitude}\n            offsetTop={-20}\n            offsetLeft={-10}\n            // draggable\n            // onDragStart={onMarkerDragStart}\n            // onDrag={onMarkerDrag}\n            // onDragEnd={onMarkerDragEnd}\n          >\n            <Pin size={20} />\n          </Marker>\n          <Source id=\"atTrail\" type=\"geojson\" data={this.state.atGeojson}>\n            <Layer {...layerStyle} />\n          </Source>\n          <Source id=\"mytrack\" type=\"geojson\" data={this.state.myTrack}>\n            <Layer {...myTrackStyle} />\n          </Source>\n          <div id=\"overlay\" className=\"container\">\n            <h3>Grant AT Thru Hike 2021</h3>\n            <hr></hr>\n            <div className=\"row\">\n                <div className='stat'>Miles Hiked:</div>\n                <div className='value'>{this.state.stats.totalDistance} mi</div>\n            </div>\n            <div className=\"row\">\n                <div className='stat'>Miles Hiked Today:</div>\n                <div className='value'>{this.state.stats.todayDistance} mi</div>\n            </div>\n            <div className=\"row\">\n                <div className='stat'>Daily Average:</div>\n                <div className='value'>{this.state.stats.dailyAverage} mi</div>\n            </div>\n            <div className=\"row\">\n                <div className='stat'>Days Hiking:</div>\n                <div className='value'>{this.state.stats.daysHiking}</div>\n            </div>\n          </div>\n        </ReactMapGL>\n        </>\n        // {/* <Marker\n        //   coordinates={[-0.2416815, 51.5285582]}\n        //   anchor=\"bottom\">\n        // </Marker> */}\n        // <div ref={el => this.mapContainer = el} className='mapContainer' />\n    );\n  }\n}\n\nexport default Map;\n","/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/services/auth.service.js",[],"/Users/grantspence/Google Drive/at-trail-tracker/attrail-react/src/components/Login.js",["52"],{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","severity":1,"message":"58","line":6,"column":3,"nodeType":"59","messageId":"60","endLine":6,"endColumn":7},{"ruleId":"53","replacedBy":"61"},{"ruleId":"55","replacedBy":"62"},{"ruleId":"53","replacedBy":"63"},{"ruleId":"55","replacedBy":"64"},{"ruleId":"57","severity":1,"message":"65","line":1,"column":8,"nodeType":"59","messageId":"60","endLine":1,"endColumn":12},{"ruleId":"57","severity":1,"message":"66","line":10,"column":10,"nodeType":"59","messageId":"60","endLine":10,"endColumn":27},{"ruleId":"67","severity":2,"message":"68","line":27,"column":39,"nodeType":"59","messageId":"69","endLine":27,"endColumn":47},"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar",["70"],["71"],["70"],["71"],"'logo' is defined but never used.","'FlyToInterpolator' is defined but never used.","no-undef","'response' is not defined.","undef","no-global-assign","no-unsafe-negation"]